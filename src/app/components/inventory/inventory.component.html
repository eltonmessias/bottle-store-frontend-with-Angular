<div class="inventory">
    <div class="search-area">
        <span>Inventory</span>
        <input type="search" name="" placeholder="search" id="">
        <button (click)="openCreateProductDialog()">Add new Product</button>
    </div>

    <section class="product-list">
        <span class="pList-text">Product List</span>
        <div class="categories">
            <span>All</span>
            <span>Beer</span>
            <span>Soda</span>
            <span>Wine</span>
        </div>
        <!-- <app-products [refreshTrigger]="refreshProducts"></app-products> -->
         


        <div class="table-container">
            <table mat-table [dataSource]="products" class="mat-elevation-z8">
          
              <!-- ID Column -->
              <ng-container matColumnDef="id">
                <th mat-header-cell *matHeaderCellDef> ID </th>
                <td mat-cell *matCellDef="let product" (click)="onCellClick(product)"> {{ product.id }} </td>
              </ng-container>
            
              <!-- Name Column -->
              <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Nome </th>
                <td mat-cell *matCellDef="let product" (click)="onCellClick(product)"> {{ product.name }} </td>
              </ng-container>
            
              <!-- Price Column -->
              <ng-container matColumnDef="sellingPrice">
                <th mat-header-cell *matHeaderCellDef> Preço de Compra </th>
                <td mat-cell *matCellDef="let product" (click)="onCellClick(product)"> {{ product.sellingPrice | currency:'MZN ' }} </td>
              </ng-container>
          
              <ng-container matColumnDef="purchasePrice">
                <th mat-header-cell *matHeaderCellDef> Preço de Venda </th>
                <td mat-cell *matCellDef="let product" (click)="onCellClick(product)"> {{ product.purchasePrice | currency:'MZN ' }} </td>
              </ng-container>
            
              <!-- Category Column -->
              <ng-container matColumnDef="category">
                <th mat-header-cell *matHeaderCellDef> Categoria </th>
                <td mat-cell *matCellDef="let product" (click)="onCellClick(product)"> {{ product.categoryName }} </td>
              </ng-container>
            
              <!-- Quantity Column -->
              <ng-container matColumnDef="stockQuantity">
                <th mat-header-cell *matHeaderCellDef> Quantidade </th>
                <td mat-cell *matCellDef="let product" (click)="onCellClick(product)"> {{ product.stockQuantity }} </td>
              </ng-container>
            
              <!-- Cabeçalho -->
              <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            
              <!-- Linhas da tabela -->
              <tr 
                mat-row 
                *matRowDef="let row; columns: displayedColumns"
                (click)="onCellClick(row)"
                [ngClass]="{ 'selected-row': selectedRow === row }"
              ></tr>
            
            </table>
            
              
          
              
            </div>
          
            <div *ngIf="selectedRow" class="button-container">
              <button class="btn primary" (click)="editProduct()">Editar Produto</button>
              <button class="btn accent" (click)="increaseStock()">Aumentar Stock</button>
              <button class="btn warn" (click)="clearSelection()">Cancelar</button>
            </div>
          
            
            
    </section>
</div>
